(()=>{_$$("pre").forEach((e=>{const o=e.parentNode;if(!o.classList.contains("gutter")){const t=document.createElement("div");t.className="code-area",o.insertBefore(t,e),o.removeChild(e),t.appendChild(e)}}));const e=(window.REIMU_CONFIG?.code_block||{}).expand;if(_$$("figure.highlight").forEach((o=>{o.querySelector(".code-figcaption")||o.insertAdjacentHTML("afterbegin",'\n  <div class="code-figcaption">\n    <div class="code-left-wrap">\n      <div class="code-decoration"></div>\n      <div class="code-lang"></div>\n    </div>\n    <div class="code-right-wrap">\n      <div class="code-copy icon-copy"></div>\n      <div class="icon-chevron-down code-expand"></div>\n    </div>\n  </div>'),void 0!==e&&(!1===e||"number"==typeof e&&o.querySelectorAll("td.code .line").length>e)&&o.classList.add("code-closed")})),_$$(".code-expand").forEach((e=>{e.off("click").on("click",(()=>{e.closest("figure").classList.toggle("code-closed")}))})),_$$("figure.highlight").forEach((e=>{let o=e.className.split(" ")[1];if(!o)return;let t=o.replace("line-numbers","").trim().replace("language-","").trim();t=t.toUpperCase();const c=e.querySelector(".code-lang");c&&(c.innerText=t)})),!window.ClipboardJS)return;const o=window.REIMU_CONFIG?.clipboard_tips||{},t=new ClipboardJS(".code-copy",{text:e=>{const t=window.getSelection(),c=document.createRange();c.selectNodeContents(e.parentNode.parentNode.nextElementSibling.querySelector("td.code")),t.removeAllRanges(),t.addRange(c);let i=t.toString();return o.copyright?.enable&&i.length>=o.copyright?.count&&(i=i+"\n\n"+o.copyright?.content??""),i}});t.on("success",(e=>{e.trigger.classList.add("icon-check"),e.trigger.classList.remove("icon-copy"),_$("#copy-tooltip").innerText=o.success,_$("#copy-tooltip").style.opacity=1,setTimeout((()=>{_$("#copy-tooltip").style.opacity=0,e.trigger.classList.add("icon-copy"),e.trigger.classList.remove("icon-check")}),1e3),e.clearSelection()})),t.on("error",(e=>{e.trigger.classList.add("icon-times"),e.trigger.classList.remove("icon-copy"),_$("#copy-tooltip").innerText=o.fail,_$("#copy-tooltip").style.opacity=1,setTimeout((()=>{_$("#copy-tooltip").style.opacity=0,e.trigger.classList.add("icon-copy"),e.trigger.classList.remove("icon-times")}),1e3)})),window.Pjax&&window.addEventListener("pjax:send",(()=>{t.destroy()}),{once:!0})})();