(()=>{const e=_$("#reimu-search-input"),t=_$("#reimu-hits"),i=_$("#reimu-pagination");let n=1;function a(e,i,n){t.innerHTML="";const a=(i-1)*n,o=a+n;e.slice(a,o).forEach((e=>{t.insertAdjacentHTML("beforeend",`<a href="${e.url}" class="reimu-hit-item-link">${e.title}</a>`)}))}e.insertAdjacentHTML("beforeend",'<form id="search-form"><input type="text" id="search-text"></form>'),fetch("/search.json").then((e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()})).then((e=>{_$("#search-form").off("submit").on("submit",(o=>{o.preventDefault();const s=_$("#search-text").value;if(t.innerHTML="",i.innerHTML="",s){const t=e.filter((e=>e.title&&e.title.toLowerCase().includes(s.toLowerCase())||e.content&&e.content.toLowerCase().includes(s.toLowerCase()))),o=Math.ceil(t.length/10);i.insertAdjacentHTML("beforeend",'<ul class="ais-Pagination-list pagination">');for(let e=1;e<=o;e++){const t=document.createElement("li");t.className="ais-Pagination-item pagination-item ais-Pagination-item--page",t.innerHTML=`<a class="ais-Pagination-link page-number" aria-label="Page ${e}" href="#">${e}</a>`,e===n&&t.classList.add("ais-Pagination-item--selected","current"),i.querySelector("ul").appendChild(t)}_$$(".page-number").forEach((e=>{e.off("click").on("click",(i=>{i.preventDefault(),n=e.innerText,_$$(".ais-Pagination-item").forEach((e=>{e.classList.remove("ais-Pagination-item--selected","current")})),e.parentNode.classList.add("ais-Pagination-item--selected","current"),a(t,n,10)}))})),a(t,n,10)}}))})).catch((e=>{console.error("There has been a problem with your fetch operation:",e)})),_$(".popup-trigger").off("click").on("click",(e=>{e.stopPropagation();const t=window.innerWidth-document.documentElement.offsetWidth;_$("#container").style.marginRight=t+"px",_$("#header-nav").style.marginRight=t+"px",_$(".popup").classList.add("show"),_$("#mask").classList.remove("hide"),document.body.style.overflow="hidden",_$("#search-text").focus()})),_$(".popup-btn-close").off("click").on("click",(()=>{_$(".popup").classList.remove("show"),_$("#mask").classList.add("hide"),_$("#container").style.marginRight="",_$("#header-nav").style.marginRight="",document.body.style.overflow=""}))})();